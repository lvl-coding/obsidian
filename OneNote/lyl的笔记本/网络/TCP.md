1. 第一次握手：建立连接时，客户端向服务端放松SYN包（seq=x），请求建立连接，等待确认
    
    1. （如果第一次握手消息丢失，那么请求方不会得到ack消息，超时后进行重传）
2. 第二次握手：服务端收到客户端的SYN包，回一个ACK包（ACK=x+1)，同时发送一个SYN包（seq=y）给客户端
    
    1. （如果第二次握手消息丢失，那么请求方不会得到ack消息，超时后进行重传）
3. 第三次握手：客户端收到SYN+ACK包后，再回一个ACK包（ACK=y+1），告诉服务端已经收到
    
    1. （如果第三次握手消息丢失，那么Server端该TCP状态为SYN_RECV，并且会根据TCP重传机制，会等待3秒、6秒、12秒后重新放松SYN+ACK包，以便client重新发送ACK包。而Server重发SYN+ACK包的次数，可以通过配置修改，默认值为5。如果重发指定次数后，仍然未收到client的ACK应答，那么一段时间后，Server自动关闭这个连接）
   

1. 客户端发送FIN包（FIN=1）给服务端，告诉它自己的数据已经发送完毕，请求终止连接，此时客户端不发送数据，但还能接受数据
2. 服务端收到FIN包，回一个ACK包给客户端告诉它已经收到包了，此时还没有断开socket连接，而是等待剩下的数据传输完毕
3. 服务端等待收据传输完毕后，向客户端发送FIN包，表明可以断开连接
4. 客户端收到后，回一个ACK包表明确认收到，等待一段时间，确保服务端不再有数据发过来，然后彻底断开连接