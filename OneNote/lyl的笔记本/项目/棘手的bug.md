是一个socket 文件描述符由于没有清除导致被提前释放的问题
 
现象：上传文件时发现部分文件上传失败，客户端提示已存在0文件，查看日志发现由于首次上传操作数据为0导致
 
开启debug日志，文件打开正常，但是没有写入数据的操作
 
抓包查看，客户端通过数据通道发送数据，服务端收到数据包
 
但是服务没有读取数据的操作，数据通道被超时关闭
 
在实验室环境中复现不出来，寻找社区资料，也没有类似bug提交
 
服务采用的epoll模型收集socket fd事件，返回用以读取数据。
 
epoll流程代码中日志匮乏，因此先补充日志，补充日志后查看数据通道的事件未返回。
 
再次扩展补充数据通道的socket fd全流程，看到socket fd被提前关闭了，因此没有事件返回，无法读取数据。
 
找到原因是客户现场中有一个节点在主动模式遍历目录，ftp协议中主动模式下有socket fd残留的bug，导致在用户推出的时候会把已经
 
关闭的fd再关闭一遍，此时fd已经被其它数据通道复用，导致数据写入失败。
 
查看bug引入的历史修改，是主动模式下的修改导致，ftp的主动模式很小众，因此这日志覆盖不全。
 
确定修改方案，先整理了主动模式和被动模式下fd和相关结构体的使用流程，选择在恰当的时机把socket fd释放掉